use_micromamba() {
  local env="${1:-base}"

  eval "$(micromamba shell hook --shell bash)"

  if [[ "$CONDA_DEFAULT_ENV" != "$env_name" ]]; then
    micromamba activate "$env"
  fi

  micromamba activate "${1:-base}"
}

use_venv() {
  if [[ ! -d .env ]]; then
    python -m venv .env
  fi

  source .env/bin/activate
}


use_poetry() {
  if [[ ! -d .venv ]]; then
    mkdir .venv
    poetry install
  fi

  eval $(poetry env activate)
}
